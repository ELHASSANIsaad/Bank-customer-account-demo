<div class="bg-gray-800 pt-3">
    <div class="rounded-tl-3xl bg-gradient-to-r from-blue-900 to-gray-800 p-4 shadow text-2xl text-white">
        <h1 class="font-bold pl-2">customer form</h1>
    </div>
</div>


<div class="flex flex-col items-center w-1/2 mx-auto">
    <h1>Create / Update Customer </h1>
    <p class="text-sm font-medium text-center text-gray-900"></p>

    <form [formGroup]="customerForm" (ngSubmit)="submit()" class="flex flex-col w-full gap-6 mt-6">
        <div class="flex flex-col gap-2">
            <label for="cin">CIN *</label>
            <input type="text" id="cin" formControlName="cin" class="border rounded-md shadow px-4 py-2">
            <small class="text-red-500" *ngIf="getControl('cin')?.hasError('required') && getControl('cin')?.touched">
                CIN is required
            </small>
            <small class="text-red-500" *ngIf="getControl('cin')?.hasError('cinExists') && getControl('cin')?.touched">
                this CIN already exists
            </small>
        </div>
        <div class="flex flex-col gap-2">
            <label for="firstName">First name *</label>
            <input type="text" id="firstName" formControlName="firstName" class="border rounded-md shadow px-4 py-2">
            <small class="text-red-500" *ngIf="getControl('firstName')?.hasError('required') && getControl('firstName')?.touched">
                First name is required
            </small>
            <small class="text-red-500" *ngIf="getControl('firstName')?.hasError('min') && getControl('firstName')?.touched">
                First name must be greater than 0
            </small>
            <small class="text-red-500" *ngIf="getControl('firstName')?.hasError('max') && getControl('firstName')?.touched">
                First name must be less than 100
            </small>
        </div>
        <div class="flex flex-col gap-2">
            <label for="lastName">Last name *</label>
            <input type="text" id="lastName" formControlName="lastName" class="border rounded-md shadow px-4 py-2">
            <small class="text-red-500" *ngIf="getControl('lastName')?.hasError('required') && getControl('lastName')?.touched">
                Last name is required
            </small>
            <small class="text-red-500" *ngIf="getControl('lastName')?.hasError('min') && getControl('lastName')?.touched">
                Last name must be greater than 0
            </small>
            <small class="text-red-500" *ngIf="getControl('lastName')?.hasError('max') && getControl('lastName')?.touched">
                Last name must be less than 100
            </small>
        </div>
        <div class="flex flex-col gap-2">
            <label for="image">Image *</label>
            <input type="text" id="image" formControlName="image" class="border rounded-md shadow px-4 py-2">
            <small class="text-red-500" *ngIf="getControl('image')?.hasError('required') && getControl('image')?.touched">
                Image is required
            </small>
          
        </div>
        <div class="flex flex-col gap-2">
            <label for="email">email *</label>
            <input type="text" id="email" formControlName="email" class="border rounded-md shadow px-4 py-2">
            <small class="text-red-500" *ngIf="getControl('email')?.hasError('required') && getControl('email')?.touched">
                Email is required
            </small>
            <small class="text-red-500" *ngIf="getControl('email')?.hasError('min') && getControl('email')?.touched">
                Email must be greater than 0
            </small>
            <small class="text-red-500" *ngIf="getControl('email')?.hasError('max') && getControl('email')?.touched">
                Email must be less than 100
            </small>
        </div>
    
        <div class="flex flex-col gap-2">
            <label for="gender">Gender *</label>
            <select name="myField" id="gender" formControlName="gender" class="border rounded-md shadow px-4 py-2">
                <option value="Mr. ">Mr</option>
                <option value="Mrs. ">Mrs</option>
              </select>
          
            <small class="text-red-500" *ngIf="getControl('gender')?.hasError('required') && getControl('gender')?.touched">
                gender is required
            </small>

        </div>
        <div class="flex flex-col gap-2">
            <label for="address">Address *</label>
            <input type="text" id="address" formControlName="address" class="border rounded-md shadow px-4 py-2">
            <small class="text-red-500" *ngIf="getControl('address')?.hasError('required') && getControl('address')?.touched">
                Address is required
            </small>
        </div>
        <div class="flex flex-col gap-2">
            <label for="balance">Balance (MAD) *</label>
            <input type="number" id="balance" formControlName="balance" class="border rounded-md shadow px-4 py-2">
            <small class="text-red-500" *ngIf="getControl('balance')?.hasError('required') && getControl('balance')?.touched">
                Balance is required
            </small>
        </div>
        <div class="flex flex-col gap-2">
            <label for="accountType">Account Type *</label>
            <select name="myField" id="accountType" formControlName="accountType" class="border rounded-md shadow px-4 py-2">
                <option value="saving ">saving</option>
                <option value="cheking ">cheking</option>
              </select>

            <small class="text-red-500" *ngIf="getControl('accountType')?.hasError('required') && getControl('accountType')?.touched">
                Account Type is required
            </small>

        </div>
       
       
        <button type="submit"
            class="border border-green-400 rounded-md shadow p-2 bg-green-400 hover:bg-green-500 text-green-900 w-1/3 ml-auto disabled:opacity-50"
 
            
            >{{isLoading ? 'Creation...': 'Create'}}</button>
    </form>


    

</div>